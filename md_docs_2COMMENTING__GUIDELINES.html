<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSBasic - Applesoft BASIC Interpreter: Code Commenting Guidelines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MSBasic - Applesoft BASIC Interpreter<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A modern C++20 implementation of Applesoft II BASIC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_docs_2COMMENTING__GUIDELINES.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Code Commenting Guidelines</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>)</p>
<p><a class="anchor" id="autotoc_md49"></a> This document describes the commenting standards for the MSBasic interpreter codebase, established to improve code maintainability, understanding, and API documentation generation.</p>
<h1><a class="anchor" id="autotoc_md50"></a>
Overview</h1>
<p>All implementation files should have detailed structured comments that explain:</p>
<ul>
<li><b>What</b> the code does (brief summary)</li>
<li><b>How</b> it works (algorithm details)</li>
<li><b>Why</b> design decisions were made (rationale)</li>
<li><b>When</b> to use or avoid certain features (usage guidance)</li>
<li><b>Edge cases</b> and error conditions</li>
</ul>
<h1><a class="anchor" id="autotoc_md51"></a>
Documentation Style</h1>
<h2><a class="anchor" id="autotoc_md52"></a>
Doxygen Format</h2>
<p>All comments use Doxygen-style formatting for API documentation generation:</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md53"></a>
Required Elements</h2>
<ol type="1">
<li><p class="startli"><b>File Headers</b>: Every implementation file should have a comprehensive header:</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --></li>
<li><b>Function Documentation</b>: Every non-trivial function should have:<ul>
<li>Brief description ( - Detailed explanation of algorithm/behavior</li>
<li>Parameter descriptions (<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">)</td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>Return value documentation (<dl class="section return"><dt>Returns</dt><dd>)</dd></dl>
</li>
<li>Exception documentation (<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>Usage examples where helpful</li>
</ul>
</li>
<li><b>Implementation Notes</b>: Use inline comments for:<ul>
<li>Complex algorithm steps</li>
<li>Non-obvious logic</li>
<li>Platform-specific code</li>
<li>Workarounds or special cases</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="autotoc_md54"></a>
Content Guidelines</h1>
<h2><a class="anchor" id="autotoc_md55"></a>
What to Document</h2>
<h3><a class="anchor" id="autotoc_md56"></a>
High Priority</h3>
<ul>
<li><b>Complex algorithms</b>: Step-by-step breakdowns</li>
<li><b>Memory operations</b>: Address mappings, special locations</li>
<li><b>Control flow</b>: State machines, jump logic, stack operations</li>
<li><b>Transformations</b>: Mathematical formulas, coordinate systems</li>
<li><b>Platform-specific code</b>: OS-dependent implementations</li>
<li><b>Error handling</b>: Conditions, recovery strategies</li>
<li><b>Compatibility notes</b>: Applesoft BASIC semantics</li>
</ul>
<h3><a class="anchor" id="autotoc_md57"></a>
Medium Priority</h3>
<ul>
<li><b>Data structures</b>: Purpose and invariants</li>
<li><b>Helper functions</b>: Purpose and usage context</li>
<li><b>Constants</b>: Meaning and origin</li>
<li><b>Type conversions</b>: Coercion rules</li>
</ul>
<h3><a class="anchor" id="autotoc_md58"></a>
Lower Priority</h3>
<ul>
<li><b>Trivial getters/setters</b>: Brief is sufficient</li>
<li><b>Standard patterns</b>: Well-known idioms need less explanation</li>
<li><b>Self-documenting code</b>: Clear variable names reduce need for comments</li>
</ul>
<h2><a class="anchor" id="autotoc_md59"></a>
Usage Examples</h2>
<p>Include BASIC syntax examples for user-facing features:</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md60"></a>
Mathematical Formulas</h2>
<p>Document transformation math explicitly:</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md61"></a>
Algorithm Breakdowns</h2>
<p>Use numbered steps for complex processes:</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md62"></a>
Examples by Category</h1>
<h2><a class="anchor" id="autotoc_md63"></a>
Memory Operations</h2>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md64"></a>
Parser/Language Features</h2>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md65"></a>
Graphics Operations</h2>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md66"></a>
Files Requiring Documentation</h1>
<h2><a class="anchor" id="autotoc_md67"></a>
High Priority (Large Implementation Files)</h2>
<ul>
<li><code><a class="el" href="interpreter_8cpp.html" title="Implementation of the Applesoft BASIC runtime interpreter.">src/interpreter.cpp</a></code> - Runtime execution engine</li>
<li><code><a class="el" href="parser_8cpp.html" title="Implementation of recursive descent parser for Applesoft BASIC.">src/parser.cpp</a></code> - Syntax analyzer and AST builder</li>
<li><code><a class="el" href="functions_8cpp.html" title="Implementation of Applesoft BASIC built-in functions and memory operations.">src/functions.cpp</a></code> - Built-in functions and memory operations</li>
<li><code><a class="el" href="graphics_8cpp.html" title="Implementation of Applesoft BASIC graphics operations.">src/graphics.cpp</a></code> - <a class="el" href="classGraphics.html" title="Singleton managing graphics state and operations.">Graphics</a> operations and transformations</li>
</ul>
<h2><a class="anchor" id="autotoc_md68"></a>
Medium Priority</h2>
<ul>
<li><code><a class="el" href="statements_8cpp.html" title="Statement compilation unit (intentionally minimal)">src/statements.cpp</a></code> - <a class="el" href="classStatement.html" title="Base class for all statement AST nodes.">Statement</a> implementations</li>
<li><code><a class="el" href="tokenizer_8cpp.html" title="Lexical analyzer implementation for Applesoft BASIC.">src/tokenizer.cpp</a></code> - Lexical analyzer</li>
<li><code><a class="el" href="variables_8cpp.html" title="Implementation of variable, array, and function storage.">src/variables.cpp</a></code> - Variable storage management</li>
</ul>
<h2><a class="anchor" id="autotoc_md69"></a>
Already Well-Documented</h2>
<ul>
<li><code><a class="el" href="float40_8cpp.html" title="Implementation of 40-bit floating-point emulation.">src/float40.cpp</a></code> - 40-bit float emulation</li>
<li><code><a class="el" href="filesystem_8cpp.html" title="Cross-platform filesystem operations for BASIC file I/O.">src/filesystem.cpp</a></code> - Cross-platform file operations</li>
<li>Header files (.h) - API documentation</li>
</ul>
<h1><a class="anchor" id="autotoc_md70"></a>
Validation</h1>
<h2><a class="anchor" id="autotoc_md71"></a>
Documentation Quality Checklist</h2>
<ul>
<li>[ ] File header explains purpose and architecture</li>
<li>[ ] Complex functions have detailed explanations</li>
<li>[ ] Algorithms are broken down step-by-step</li>
<li>[ ] Usage examples included for user-facing features</li>
<li>[ ] Edge cases and error conditions documented</li>
<li>[ ] Platform-specific behavior noted</li>
<li>[ ] Mathematical formulas included where applicable</li>
<li>[ ] Doxygen tags used correctly ( ,<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
return, <dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>
</li>
<li>[ ] Comments are accurate and up-to-date with code</li>
</ul>
<h2><a class="anchor" id="autotoc_md72"></a>
Build Validation</h2>
<p>After adding documentation:</p>
<div class="fragment"><div class="line"># Verify code still compiles</div>
<div class="line">cmake -S . -B build</div>
<div class="line">cmake --build build</div>
<div class="line"> </div>
<div class="line"># Verify tests still pass</div>
<div class="line">ctest --test-dir build --output-on-failure</div>
<div class="line"> </div>
<div class="line"># Generate API documentation (if Doxygen available)</div>
<div class="line">doxygen Doxyfile</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md73"></a>
Anti-Patterns to Avoid</h1>
<h2><a class="anchor" id="autotoc_md74"></a>
Don't Document the Obvious</h2>
<div class="fragment"><div class="line"><span class="comment">// Bad: Obvious from code</span></div>
<div class="line"><span class="keywordtype">int</span> x = 5; <span class="comment">// Set x to 5</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Good: Explains why</span></div>
<div class="line"><span class="keywordtype">int</span> maxRetries = 5; <span class="comment">// Applesoft BASIC allows 5 input retries on type mismatch</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md75"></a>
Don't Repeat Code in Words</h2>
<div class="fragment"><div class="line"><span class="comment">// Bad: Just repeats the code</span></div>
<div class="line"><span class="keywordtype">int</span> add(<span class="keywordtype">int</span> a, <span class="keywordtype">int</span> b) { <span class="keywordflow">return</span> a + b; }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Good: Adds context</span></div>
<div class="line"><a class="code hl_class" href="classFloat40.html">Float40</a> add(<a class="code hl_class" href="classFloat40.html">Float40</a> a, <a class="code hl_class" href="classFloat40.html">Float40</a> b);</div>
<div class="ttc" id="aclassFloat40_html"><div class="ttname"><a href="classFloat40.html">Float40</a></div><div class="ttdoc">Applesoft-compatible 40-bit floating point number.</div><div class="ttdef"><b>Definition</b> <a href="float40_8h_source.html#l00047">float40.h:47</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md76"></a>
Don't Leave Outdated Comments</h2>
<div class="fragment"><div class="line"><span class="comment">// Bad: Comment doesn&#39;t match code</span></div>
<div class="line"><span class="comment">// Returns true if file exists</span></div>
<div class="line"><span class="keywordtype">bool</span> validatePath(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">    <span class="keywordflow">return</span> fs::exists(path) &amp;&amp; fs::is_regular_file(path);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Good: Accurate description</span></div>
<div class="line"><span class="keywordtype">bool</span> validatePath(<span class="keyword">const</span> std::string&amp; path) {</div>
<div class="line">    <span class="keywordflow">return</span> fs::exists(path) &amp;&amp; fs::is_regular_file(path);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md77"></a>
Summary</h1>
<p>Good documentation:</p>
<ul>
<li>Explains complex algorithms with step-by-step breakdowns</li>
<li>Includes usage examples in BASIC syntax</li>
<li>Documents edge cases and error conditions</li>
<li>Uses Doxygen format for API generation</li>
<li>Provides context and rationale, not just code repetition</li>
<li>Stays accurate and up-to-date with implementation</li>
</ul>
<p>This approach makes the codebase maintainable, debuggable, and accessible to new contributors while preserving knowledge about Applesoft BASIC compatibility requirements. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Dec 23 2025 21:51:54 for MSBasic - Applesoft BASIC Interpreter by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
