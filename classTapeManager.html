<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSBasic - Applesoft BASIC Interpreter: TapeManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MSBasic - Applesoft BASIC Interpreter<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">A modern C++20 implementation of Applesoft II BASIC</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classTapeManager.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classTapeManager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">TapeManager Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Cassette tape emulation for sequential data storage.  
 <a href="classTapeManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2c38c16f3ae3ef04e6cb2b8d447da486" id="r_a2c38c16f3ae3ef04e6cb2b8d447da486"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a2c38c16f3ae3ef04e6cb2b8d447da486">TapeManager</a> ()</td></tr>
<tr class="memdesc:a2c38c16f3ae3ef04e6cb2b8d447da486"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct tape manager (no tape loaded)  <br /></td></tr>
<tr class="separator:a2c38c16f3ae3ef04e6cb2b8d447da486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447e78e7f2aba9638dab766bdf4dec9b" id="r_a447e78e7f2aba9638dab766bdf4dec9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a447e78e7f2aba9638dab766bdf4dec9b">~TapeManager</a> ()</td></tr>
<tr class="memdesc:a447e78e7f2aba9638dab766bdf4dec9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, closes tape if open.  <br /></td></tr>
<tr class="separator:a447e78e7f2aba9638dab766bdf4dec9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50a7c390b59a017ef33f6c21a64846e6" id="r_a50a7c390b59a017ef33f6c21a64846e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a50a7c390b59a017ef33f6c21a64846e6">setTapeFile</a> (const std::string &amp;filename)</td></tr>
<tr class="memdesc:a50a7c390b59a017ef33f6c21a64846e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set tape file path.  <br /></td></tr>
<tr class="separator:a50a7c390b59a017ef33f6c21a64846e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1db5635867d32c89ad88315004a820d0" id="r_a1db5635867d32c89ad88315004a820d0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a1db5635867d32c89ad88315004a820d0">getTapeFile</a> () const</td></tr>
<tr class="memdesc:a1db5635867d32c89ad88315004a820d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current tape file path.  <br /></td></tr>
<tr class="separator:a1db5635867d32c89ad88315004a820d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4f612a8661e259968195c176f3b855" id="r_adf4f612a8661e259968195c176f3b855"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#adf4f612a8661e259968195c176f3b855">hasTape</a> () const</td></tr>
<tr class="memdesc:adf4f612a8661e259968195c176f3b855"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if tape file is set.  <br /></td></tr>
<tr class="separator:adf4f612a8661e259968195c176f3b855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bdc7733c30395a83f5ae186a57b5f8" id="r_a25bdc7733c30395a83f5ae186a57b5f8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a25bdc7733c30395a83f5ae186a57b5f8">openForRead</a> ()</td></tr>
<tr class="memdesc:a25bdc7733c30395a83f5ae186a57b5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open tape for reading.  <br /></td></tr>
<tr class="separator:a25bdc7733c30395a83f5ae186a57b5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6392fa75f341b27ae30aafc1a7ec96c" id="r_ae6392fa75f341b27ae30aafc1a7ec96c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#ae6392fa75f341b27ae30aafc1a7ec96c">openForWrite</a> ()</td></tr>
<tr class="memdesc:ae6392fa75f341b27ae30aafc1a7ec96c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open tape for writing.  <br /></td></tr>
<tr class="separator:ae6392fa75f341b27ae30aafc1a7ec96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c427a020f606bbe693276704f938eb0" id="r_a0c427a020f606bbe693276704f938eb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a0c427a020f606bbe693276704f938eb0">close</a> ()</td></tr>
<tr class="memdesc:a0c427a020f606bbe693276704f938eb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close tape.  <br /></td></tr>
<tr class="separator:a0c427a020f606bbe693276704f938eb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeea55e533e6f632219afb1847440591a" id="r_aeea55e533e6f632219afb1847440591a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#aeea55e533e6f632219afb1847440591a">rewind</a> ()</td></tr>
<tr class="memdesc:aeea55e533e6f632219afb1847440591a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rewind tape to beginning.  <br /></td></tr>
<tr class="separator:aeea55e533e6f632219afb1847440591a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77d9148a34813e50cd7e852891daa44" id="r_af77d9148a34813e50cd7e852891daa44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#af77d9148a34813e50cd7e852891daa44">writeRecord</a> (const std::vector&lt; uint8_t &gt; &amp;data)</td></tr>
<tr class="memdesc:af77d9148a34813e50cd7e852891daa44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write record to tape.  <br /></td></tr>
<tr class="separator:af77d9148a34813e50cd7e852891daa44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03dd8118d9bf832e158017ed9674c70d" id="r_a03dd8118d9bf832e158017ed9674c70d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint8_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a03dd8118d9bf832e158017ed9674c70d">readRecord</a> ()</td></tr>
<tr class="memdesc:a03dd8118d9bf832e158017ed9674c70d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read record from tape.  <br /></td></tr>
<tr class="separator:a03dd8118d9bf832e158017ed9674c70d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3d410d8c98cae6eeb82c3260fa51ed3" id="r_aa3d410d8c98cae6eeb82c3260fa51ed3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#aa3d410d8c98cae6eeb82c3260fa51ed3">isOpen</a> () const</td></tr>
<tr class="memdesc:aa3d410d8c98cae6eeb82c3260fa51ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if tape is open.  <br /></td></tr>
<tr class="separator:aa3d410d8c98cae6eeb82c3260fa51ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6375030f75b6a9d6356625b98afb18c3" id="r_a6375030f75b6a9d6356625b98afb18c3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a6375030f75b6a9d6356625b98afb18c3">isReadMode</a> () const</td></tr>
<tr class="memdesc:a6375030f75b6a9d6356625b98afb18c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if tape is open for reading.  <br /></td></tr>
<tr class="separator:a6375030f75b6a9d6356625b98afb18c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47a8afb80baf554a63c41b4d7c76eeb" id="r_ae47a8afb80baf554a63c41b4d7c76eeb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#ae47a8afb80baf554a63c41b4d7c76eeb">isWriteMode</a> () const</td></tr>
<tr class="memdesc:ae47a8afb80baf554a63c41b4d7c76eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if tape is open for writing.  <br /></td></tr>
<tr class="separator:ae47a8afb80baf554a63c41b4d7c76eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bd5f1a1d87fac7f4755b2c5d6c79f3a" id="r_a5bd5f1a1d87fac7f4755b2c5d6c79f3a"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a5bd5f1a1d87fac7f4755b2c5d6c79f3a">getPosition</a> () const</td></tr>
<tr class="memdesc:a5bd5f1a1d87fac7f4755b2c5d6c79f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current tape position.  <br /></td></tr>
<tr class="separator:a5bd5f1a1d87fac7f4755b2c5d6c79f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1903297f66302723fb2dea867c54c57b" id="r_a1903297f66302723fb2dea867c54c57b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a1903297f66302723fb2dea867c54c57b">isEndOfTape</a> () const</td></tr>
<tr class="memdesc:a1903297f66302723fb2dea867c54c57b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if at end of tape.  <br /></td></tr>
<tr class="separator:a1903297f66302723fb2dea867c54c57b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0a5944bc1be7e2fa4609fa7a3fdc4fbb" id="r_a0a5944bc1be7e2fa4609fa7a3fdc4fbb"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapeManager.html#a0a5944bc1be7e2fa4609fa7a3fdc4fbb">showFileSelector</a> (const std::string &amp;title=&quot;Select Tape File&quot;)</td></tr>
<tr class="memdesc:a0a5944bc1be7e2fa4609fa7a3fdc4fbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Show platform-specific file selector dialog.  <br /></td></tr>
<tr class="separator:a0a5944bc1be7e2fa4609fa7a3fdc4fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cassette tape emulation for sequential data storage. </p>
<p>Emulates Apple II cassette tape operations with record-based sequential I/O. Each record has a size header followed by data bytes, mimicking the format used by Apple II tape storage.</p>
<p>The manager maintains tape state including current position, read/write mode, and provides rewind capability matching physical tape behavior. </p>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00052">52</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2c38c16f3ae3ef04e6cb2b8d447da486" name="a2c38c16f3ae3ef04e6cb2b8d447da486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c38c16f3ae3ef04e6cb2b8d447da486">&#9670;&#160;</a></span>TapeManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TapeManager::TapeManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct tape manager (no tape loaded) </p>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00063">63</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

</div>
</div>
<a id="a447e78e7f2aba9638dab766bdf4dec9b" name="a447e78e7f2aba9638dab766bdf4dec9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447e78e7f2aba9638dab766bdf4dec9b">&#9670;&#160;</a></span>~TapeManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TapeManager::~TapeManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor, closes tape if open. </p>
<p>Destructor - closes tape file if open. </p>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00068">68</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8cpp_source.html#l00176">close()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a0c427a020f606bbe693276704f938eb0" name="a0c427a020f606bbe693276704f938eb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c427a020f606bbe693276704f938eb0">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close tape. </p>
<p>Close the tape file.</p>
<p>Flushes and closes the tape file. Safe to call if not open.</p>
<p>Closes the current tape file and resets position to 0. Safe to call even if no file is open. </p>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00176">176</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="tape__manager_8cpp_source.html#l00101">openForRead()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00139">openForWrite()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00081">setTapeFile()</a>, and <a class="el" href="tape__manager_8cpp_source.html#l00068">~TapeManager()</a>.</p>

</div>
</div>
<a id="a5bd5f1a1d87fac7f4755b2c5d6c79f3a" name="a5bd5f1a1d87fac7f4755b2c5d6c79f3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bd5f1a1d87fac7f4755b2c5d6c79f3a">&#9670;&#160;</a></span>getPosition()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t TapeManager::getPosition </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current tape position. </p>
<dl class="section return"><dt>Returns</dt><dd>Byte offset from start of tape </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00160">160</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

</div>
</div>
<a id="a1db5635867d32c89ad88315004a820d0" name="a1db5635867d32c89ad88315004a820d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1db5635867d32c89ad88315004a820d0">&#9670;&#160;</a></span>getTapeFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TapeManager::getTapeFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get current tape file path. </p>
<dl class="section return"><dt>Returns</dt><dd>Tape file path or empty string if no tape set </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00079">79</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l03830">Interpreter::getTapeFile()</a>.</p>

</div>
</div>
<a id="adf4f612a8661e259968195c176f3b855" name="adf4f612a8661e259968195c176f3b855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf4f612a8661e259968195c176f3b855">&#9670;&#160;</a></span>hasTape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TapeManager::hasTape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if tape file is set. </p>
<dl class="section return"><dt>Returns</dt><dd>true if tape file path is configured </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00085">85</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l02598">Interpreter::loadShapeTableFromFile()</a>, <a class="el" href="interpreter_8cpp_source.html#l02180">Interpreter::recallArray()</a>, and <a class="el" href="interpreter_8cpp_source.html#l02013">Interpreter::storeArray()</a>.</p>

</div>
</div>
<a id="a1903297f66302723fb2dea867c54c57b" name="a1903297f66302723fb2dea867c54c57b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1903297f66302723fb2dea867c54c57b">&#9670;&#160;</a></span>isEndOfTape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TapeManager::isEndOfTape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if at end of tape. </p>
<p>Check if end of tape has been reached.</p>
<dl class="section return"><dt>Returns</dt><dd>true if at EOF</dd></dl>
<p>Returns true if tape is open for reading and EOF has been reached. Returns false if not in read mode or tape not open.</p>
<dl class="section return"><dt>Returns</dt><dd>true if at end of tape, false otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00346">346</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

</div>
</div>
<a id="aa3d410d8c98cae6eeb82c3260fa51ed3" name="aa3d410d8c98cae6eeb82c3260fa51ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3d410d8c98cae6eeb82c3260fa51ed3">&#9670;&#160;</a></span>isOpen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TapeManager::isOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if tape is open. </p>
<dl class="section return"><dt>Returns</dt><dd>true if open for reading or writing </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00142">142</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="tape__manager_8cpp_source.html#l00346">isEndOfTape()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00101">openForRead()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00139">openForWrite()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00309">readRecord()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00189">rewind()</a>, <a class="el" href="tape__manager_8cpp_source.html#l00081">setTapeFile()</a>, and <a class="el" href="tape__manager_8cpp_source.html#l00234">writeRecord()</a>.</p>

</div>
</div>
<a id="a6375030f75b6a9d6356625b98afb18c3" name="a6375030f75b6a9d6356625b98afb18c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6375030f75b6a9d6356625b98afb18c3">&#9670;&#160;</a></span>isReadMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TapeManager::isReadMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if tape is open for reading. </p>
<dl class="section return"><dt>Returns</dt><dd>true if in read mode </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00148">148</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

</div>
</div>
<a id="ae47a8afb80baf554a63c41b4d7c76eeb" name="ae47a8afb80baf554a63c41b4d7c76eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47a8afb80baf554a63c41b4d7c76eeb">&#9670;&#160;</a></span>isWriteMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool TapeManager::isWriteMode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if tape is open for writing. </p>
<dl class="section return"><dt>Returns</dt><dd>true if in write mode </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8h_source.html#l00154">154</a> of file <a class="el" href="tape__manager_8h_source.html">tape_manager.h</a>.</p>

</div>
</div>
<a id="a25bdc7733c30395a83f5ae186a57b5f8" name="a25bdc7733c30395a83f5ae186a57b5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25bdc7733c30395a83f5ae186a57b5f8">&#9670;&#160;</a></span>openForRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::openForRead </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open tape for reading. </p>
<p>Open tape file for reading.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>if no tape set or file cannot be opened</td></tr>
  </table>
  </dd>
</dl>
<p>Opens the current tape file in read mode for RECALL and SHLOAD operations. If already open in read mode, keeps current position. If open in write mode, closes and reopens in read mode.</p>
<p>Position tracking allows sequential reads across multiple RECALL commands without rewinding.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if no tape loaded or file cannot be opened </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00101">101</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8cpp_source.html#l00176">close()</a>, and <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l02598">Interpreter::loadShapeTableFromFile()</a>, and <a class="el" href="interpreter_8cpp_source.html#l02180">Interpreter::recallArray()</a>.</p>

</div>
</div>
<a id="ae6392fa75f341b27ae30aafc1a7ec96c" name="ae6392fa75f341b27ae30aafc1a7ec96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6392fa75f341b27ae30aafc1a7ec96c">&#9670;&#160;</a></span>openForWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::openForWrite </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open tape for writing. </p>
<p>Open tape file for writing.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>if no tape set or file cannot be opened</td></tr>
  </table>
  </dd>
</dl>
<p>Opens file in append mode to preserve existing data.</p>
<p>Opens the current tape file in write mode for STORE operations. If already open in write mode, keeps current position. If open in read mode, closes and reopens in write mode.</p>
<p>Write operations append at the current position, allowing sequential writes across multiple STORE commands.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if no tape loaded or file cannot be opened </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00139">139</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8cpp_source.html#l00176">close()</a>, and <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l02013">Interpreter::storeArray()</a>.</p>

</div>
</div>
<a id="a03dd8118d9bf832e158017ed9674c70d" name="a03dd8118d9bf832e158017ed9674c70d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03dd8118d9bf832e158017ed9674c70d">&#9670;&#160;</a></span>readRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; uint8_t &gt; TapeManager::readRecord </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read record from tape. </p>
<p>Read a record from tape (sequential read)</p>
<dl class="section return"><dt>Returns</dt><dd>Byte vector containing record data </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>if tape not open for reading or read error</td></tr>
  </table>
  </dd>
</dl>
<p>Reads size header then data bytes. Returns empty vector at EOF.</p>
<p>Reads the next data record from the tape file at the current position. Each record consists of a 4-byte size header followed by the data bytes. This implements the sequential tape read behavior of Applesoft BASIC.</p>
<p>Record format:</p><ul>
<li>Size header: 4 bytes (uint32_t) in native byte order</li>
<li>Data: Variable length based on size header</li>
</ul>
<p>Behavior:</p><ul>
<li>Reads from current file position (sequential)</li>
<li>Advances position for next read</li>
<li>Returns data as byte vector</li>
<li>Validates size against MAX_RECORD_SIZE (1 MB)</li>
</ul>
<p>Error conditions:</p><ul>
<li>Tape not open: "TAPE NOT OPEN FOR READING"</li>
<li>In write mode: "TAPE NOT OPEN FOR READING"</li>
<li>End of file: "END OF TAPE"</li>
<li>Invalid size (0 or &gt; 1MB): "INVALID TAPE FORMAT"</li>
<li>Partial read: "TAPE READ ERROR"</li>
</ul>
<p>Size validation:</p><ul>
<li>Maximum 1 MB prevents corruption issues</li>
<li>Zero size indicates format error</li>
<li>Checks gcount() to verify complete read</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Vector of bytes containing record data </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if tape not open for reading, EOF, or read fails</td></tr>
  </table>
  </dd>
</dl>
<p>Read the next record from the tape at the current position</p>
<p>Reads the 4-byte size header followed by that many payload bytes.</p>
<p>Safety:</p><ul>
<li>Rejects records larger than MAX_RECORD_SIZE to prevent unbounded allocations from corrupt or malicious tape files.</li>
</ul>
<p>Error behavior:</p><ul>
<li>Throws "TAPE NOT OPEN FOR READING" if tape is not open in read mode.</li>
<li>Throws "END OF TAPE" when EOF is reached.</li>
<li>Throws "INVALID TAPE FORMAT" for invalid size headers.</li>
<li>Throws "TAPE READ ERROR" if the payload cannot be fully read.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>Record payload bytes </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>on invalid mode, EOF, format error, or I/O error </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00309">309</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>, and <a class="el" href="tape__manager_8cpp_source.html#l00040">MAX_RECORD_SIZE</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l02598">Interpreter::loadShapeTableFromFile()</a>, and <a class="el" href="interpreter_8cpp_source.html#l02180">Interpreter::recallArray()</a>.</p>

</div>
</div>
<a id="aeea55e533e6f632219afb1847440591a" name="aeea55e533e6f632219afb1847440591a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeea55e533e6f632219afb1847440591a">&#9670;&#160;</a></span>rewind()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::rewind </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rewind tape to beginning. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>if tape not open</td></tr>
  </table>
  </dd>
</dl>
<p>Resets file position to the start of the tape. Used when starting over with a sequence of reads or writes. No-op if tape is not open. </p>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00189">189</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

</div>
</div>
<a id="a50a7c390b59a017ef33f6c21a64846e6" name="a50a7c390b59a017ef33f6c21a64846e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a7c390b59a017ef33f6c21a64846e6">&#9670;&#160;</a></span>setTapeFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::setTapeFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set tape file path. </p>
<p>Set the current tape file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to tape file</td></tr>
  </table>
  </dd>
</dl>
<p>Sets the tape file but doesn't open it. Call <a class="el" href="classTapeManager.html#a25bdc7733c30395a83f5ae186a57b5f8" title="Open tape for reading.">openForRead()</a> or <a class="el" href="classTapeManager.html#ae6392fa75f341b27ae30aafc1a7ec96c" title="Open tape for writing.">openForWrite()</a> to actually open the file.</p>
<p>Changes the tape file path and resets position to start. Closes any currently open tape file.</p>
<p>Usage in BASIC: TAPE "MYDATA.TAP" (sets current tape file)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>Path to tape file </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00081">81</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8cpp_source.html#l00176">close()</a>, and <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l03834">Interpreter::changeTapeFile()</a>, and <a class="el" href="interpreter_8cpp_source.html#l03826">Interpreter::setTapeFile()</a>.</p>

</div>
</div>
<a id="a0a5944bc1be7e2fa4609fa7a3fdc4fbb" name="a0a5944bc1be7e2fa4609fa7a3fdc4fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5944bc1be7e2fa4609fa7a3fdc4fbb">&#9670;&#160;</a></span>showFileSelector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string TapeManager::showFileSelector </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>title</em> = <code>&quot;Select&#160;Tape&#160;File&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Show platform-specific file selector dialog. </p>
<p>Display a native file picker to select a tape file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">title</td><td>Dialog window title </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Selected file path or empty string if cancelled</dd></dl>
<p>Uses native file dialog on supported platforms. Returns empty string on platforms without GUI support.</p>
<p>Provides a best-effort platform-specific UI for selecting a tape file path. This is intended for interactive use (e.g., selecting a <code>.tap</code> file) and is not required for core interpreter functionality. Typical platform behaviors include using the Win32 dialog on Windows, <code>osascript</code> on macOS, and <code>zenity</code>/<code>kdialog</code> on Linux. The function returns an absolute path on success or an empty string if the user cancels or no suitable UI is available. Callers should treat an empty string as "no file selected".</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">title</td><td>Dialog title/prompt string </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Selected file path, or empty string on cancel/unavailable UI </dd></dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00382">382</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l03834">Interpreter::changeTapeFile()</a>.</p>

</div>
</div>
<a id="af77d9148a34813e50cd7e852891daa44" name="af77d9148a34813e50cd7e852891daa44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77d9148a34813e50cd7e852891daa44">&#9670;&#160;</a></span>writeRecord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TapeManager::writeRecord </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; uint8_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write record to tape. </p>
<p>Write a record to tape (sequential write)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Byte vector to write as record </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeError</td><td>if tape not open for writing</td></tr>
  </table>
  </dd>
</dl>
<p>Writes size header (4 bytes) followed by data bytes.</p>
<p>Writes a data record to the tape file at the current position. Each record consists of a 4-byte size header followed by the data bytes. This implements the sequential tape write behavior of Applesoft BASIC.</p>
<p>Record format:</p><ul>
<li>Size header: 4 bytes (uint32_t) in native byte order</li>
<li>Data: Variable length based on size header</li>
</ul>
<p>Behavior:</p><ul>
<li>Writes at current file position (sequential)</li>
<li>Automatically flushes to disk after write</li>
<li>Updates position counter</li>
<li>Position maintained across multiple writes</li>
</ul>
<p>Error conditions:</p><ul>
<li>Tape not open: "TAPE NOT OPEN FOR WRITING"</li>
<li>In read mode: "TAPE NOT OPEN FOR WRITING"</li>
<li>Write failure: "TAPE WRITE ERROR"</li>
</ul>
<p>Cross-platform note:</p><ul>
<li>Uses native byte order for size (not portable across architectures)</li>
<li>For cross-platform compatibility, use tapes on same architecture</li>
<li>Future: Could implement little-endian serialization</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Byte vector containing record data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime_error</td><td>if tape not open for writing or write fails </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="tape__manager_8cpp_source.html#l00234">234</a> of file <a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a>.</p>

<p class="reference">References <a class="el" href="tape__manager_8h_source.html#l00142">isOpen()</a>.</p>

<p class="reference">Referenced by <a class="el" href="interpreter_8cpp_source.html#l02013">Interpreter::storeArray()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="tape__manager_8h_source.html">tape_manager.h</a></li>
<li>src/<a class="el" href="tape__manager_8cpp_source.html">tape_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classTapeManager.html">TapeManager</a></li>
    <li class="footer">Generated on Tue Dec 23 2025 21:11:39 for MSBasic - Applesoft BASIC Interpreter by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
