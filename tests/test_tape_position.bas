10 REM TEST TAPE POSITION PERSISTENCE
20 PRINT "SETTING UP TAPE"
30 TAPE "/tmp/position_test.tap"
40 PRINT
50 PRINT "WRITING THREE ARRAYS SEQUENTIALLY"
60 DIM A(2)
70 A(0) = 100: A(1) = 200: A(2) = 300
80 PRINT "STORING A: 100, 200, 300"
90 STORE A
100 PRINT
110 DIM B(2)
120 B(0) = 400: B(1) = 500: B(2) = 600
130 PRINT "STORING B: 400, 500, 600"
140 STORE B
150 PRINT
160 DIM C(2)
170 C(0) = 700: C(1) = 800: C(2) = 900
180 PRINT "STORING C: 700, 800, 900"
190 STORE C
200 PRINT
210 PRINT "NOW READING BACK SEQUENTIALLY"
220 PRINT "SETTING TAPE AGAIN TO REWIND"
230 TAPE "/tmp/position_test.tap"
240 PRINT
250 PRINT "READING A:"
260 RECALL A
270 FOR I = 0 TO 2
280 PRINT A(I);
290 IF I < 2 THEN PRINT ", ";
300 NEXT I
310 PRINT
320 PRINT
330 PRINT "READING B (SHOULD READ NEXT RECORD):"
340 RECALL B
350 FOR I = 0 TO 2
360 PRINT B(I);
370 IF I < 2 THEN PRINT ", ";
380 NEXT I
390 PRINT
400 PRINT
410 PRINT "READING C (SHOULD READ NEXT RECORD):"
420 RECALL C
430 FOR I = 0 TO 2
440 PRINT C(I);
450 IF I < 2 THEN PRINT ", ";
460 NEXT I
470 PRINT
480 PRINT
490 PRINT "SUCCESS: TAPE MAINTAINED POSITION!"
500 END
